const express = require('express');
const dotenv = require('dotenv');
const app = express();

// Example for logging a message
console.log(`Hello Express`);

// Example for sending a simple text response
app.get("/", function(req , res) {
    res.send(`Hello Express`)

// Example for serving an HTML file
app.get("/", (req , res) => {
    res.sendFile( __dirname + "/views/index.html" );
});


// Original /json route handler without MESSAGE_STYLE handling
app.get("/json", (req , res) => {
   res.json({"message": "Hello json"})
});

// Updated /json route handler with MESSAGE_STYLE handling
app.get("/json", (req, res) => {
    let msg = "Hello json";
    if (process.env.MESSAGE_STYLE === "uppercase") {
        msg = msg.toUpperCase();
    }
    res.json({ message: msg });
});
